"use strict";(self.webpackChunkayon_docs=self.webpackChunkayon_docs||[]).push([[1708],{18679:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(67294),r=a(86010);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(o.tabItem,i),hidden:a},t)}},73992:(e,t,a)=>{a.d(t,{Z:()=>q});var n=a(87462),r=a(67294),o=a(86010),i=a(72957),s=a(16550),u=a(75238),l=a(33609),d=a(92560);function c(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function m(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,l.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:a}=e;const n=(0,s.k6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,u._X)(o),(0,r.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})}),[o,n])]}function g(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,o=m(e),[i,s]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:o}))),[u,l]=f({queryString:a,groupId:n}),[c,g]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,o]=(0,d.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:n}),k=(()=>{const e=u??c;return p({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{k&&s(k)}),[k]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),l(e),g(e)}),[l,g,o]),tabValues:o}}var k=a(51048);const h={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:t,block:a,selectedValue:s,selectValue:u,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),m=e=>{const t=e.currentTarget,a=d.indexOf(t),n=l[a].value;n!==s&&(c(t),u(n))},p=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;t=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;t=d[a]??d[d.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":a},t)},l.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>d.push(e),onKeyDown:p,onClick:m},i,{className:(0,o.Z)("tabs__item",h.tabItem,i?.className,{"tabs__item--active":s===t})}),a??t)})))}function y(e){let{lazy:t,children:a,selectedValue:n}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function v(e){const t=g(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",h.tabList)},r.createElement(b,(0,n.Z)({},e,t)),r.createElement(y,(0,n.Z)({},e,t)))}function q(e){const t=(0,k.Z)();return r.createElement(v,(0,n.Z)({key:String(t)},e))}},30983:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var n=a(87462),r=(a(67294),a(3905)),o=a(20398),i=a(87006);a(73992),a(18679);const s={id:"addon_aquarium_admin",title:"Aquarium",sidebar_label:"Aquarium"},u=void 0,l={unversionedId:"addon_aquarium_admin",id:"addon_aquarium_admin",title:"Aquarium",description:"{versions.Aquarium_Badge}",source:"@site/docs/addon_aquarium_admin.md",sourceDirName:".",slug:"/addon_aquarium_admin",permalink:"/docs/addon_aquarium_admin",draft:!1,editUrl:"https://github.com/ynput/ayon-documentation/tree/main/website/docs/addon_aquarium_admin.md",tags:[],version:"current",frontMatter:{id:"addon_aquarium_admin",title:"Aquarium",sidebar_label:"Aquarium"},sidebar:"Admin",previous:{title:"After Effects",permalink:"/docs/addon_aftereffects_admin"},next:{title:"Blender",permalink:"/docs/addon_blender_admin"}},d={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Configuring addon",id:"configuring-addon",level:2},{value:"Getting Aquarium bot",id:"getting-aquarium-bot",level:3},{value:"Setting Ayon Secrets",id:"setting-ayon-secrets",level:3},{value:"Aquarium addon Studio settings configuration",id:"aquarium-addon-studio-settings-configuration",level:3},{value:"Starting Ayon Aquarium addon service",id:"starting-ayon-aquarium-addon-service",level:2}],m={toc:c},p="wrapper";function f(e){let{components:t,...s}=e;return(0,r.kt)(p,(0,n.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(o.D,{mdxType:"ReactMarkdown"},i.V_),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Aquarium addon for Ayon",src:a(45498).Z,width:"215",height:"200"})),(0,r.kt)("h2",{id:"introduction"},"Introduction"),(0,r.kt)("p",null,"Aquarium addon, allow you to:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create new Ayon project using existing Aquarium's data"),(0,r.kt)("li",{parentName:"ul"},"Create new Aquarium project using existing Ayon's data"),(0,r.kt)("li",{parentName:"ul"},"Keep your Ayon project in sync with Aquarium, using Ayon services system and Aquarium's events."),(0,r.kt)("li",{parentName:"ul"},"Publish media")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"In the future, new feature will be added, based on your requests. Feel free to ",(0,r.kt)("a",{parentName:"p",href:"https://support@fatfi.sh"},"reach us"),".")),(0,r.kt)("p",null,"We are open to receive new pull request (PR). Follow our ",(0,r.kt)("a",{parentName:"p",href:"/docs/addon_aquarium_developer"},"developer documentation to start"),"."),(0,r.kt)("h2",{id:"configuring-addon"},"Configuring addon"),(0,r.kt)("p",null,"First, you need to install the addon. It's available from Ayon market or you can install it from its repository. For that follow our ",(0,r.kt)("a",{parentName:"p",href:"/docs/addon_aquarium_developer"},"developer documentation")," or ",(0,r.kt)("a",{parentName:"p",href:"/docs/admin_server_installing_addons"},"Ayon's manual installation guide")),(0,r.kt)("h3",{id:"getting-aquarium-bot"},"Getting Aquarium bot"),(0,r.kt)("p",null,"Synchronizing Ayon and Aquarium rely on a specific account type called Bot."),(0,r.kt)("p",null,"Go into your Aquarium ",(0,r.kt)("inlineCode",{parentName:"p"},"project settings"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"connectors")," tab and select ",(0,r.kt)("inlineCode",{parentName:"p"},"Ayon"),"."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Enable Ayon connector in Aquarium",src:a(77708).Z,width:"309",height:"312"})),(0,r.kt)("p",null,"Select an existing bot, or create a dedicated bot for this project"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Select or create a bot",src:a(69794).Z,width:"1194",height:"439"})),(0,r.kt)("p",null,"When you create a bot, a ",(0,r.kt)("inlineCode",{parentName:"p"},"bot secret")," is created. It's like a password, but for bot. So keep it safe ! It won't be shown twice. If you lost that secret, you will need to generate a new one."),(0,r.kt)("h3",{id:"setting-ayon-secrets"},"Setting Ayon Secrets"),(0,r.kt)("p",null,"Go back to Ayon. From your ",(0,r.kt)("inlineCode",{parentName:"p"},"Studio settings"),", select your ",(0,r.kt)("inlineCode",{parentName:"p"},"Secret")," tab, and create two new secrets :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"One to store your bot_key"),(0,r.kt)("li",{parentName:"ul"},"Another one to store your bot_secret")),(0,r.kt)("p",null,"Choose the name you want, but if you don't have any idea, ",(0,r.kt)("inlineCode",{parentName:"p"},"aq_bot_key")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"aq_bot_secret")," is a good start \ud83d\udc4d"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Ayon secrets",src:a(4501).Z,width:"1920",height:"959"})),(0,r.kt)("h3",{id:"aquarium-addon-studio-settings-configuration"},"Aquarium addon Studio settings configuration"),(0,r.kt)("p",null,"Once secrets are configured then Aquarium addon can be set. In your ",(0,r.kt)("inlineCode",{parentName:"p"},"Studio settings")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Project settings")," is you want a specific configuration only for the selected project, choose your ",(0,r.kt)("inlineCode",{parentName:"p"},"Aquarium")," addon, and fill the inputs."),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Don't forget to select the correct bundle version on which you want to set this configuration.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Aquarium addon settings",src:a(33554).Z,width:"1920",height:"959"})),(0,r.kt)("p",null,"Here is the detail of each option:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Aquarium URL")," is your specific Aquarium URL you use to access to."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Aquarium domain")," is specific for Fatfish Lab developers, or customers who run Aquarium in a non DNS environment."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Service settings")," is all the setting dedicated to Aquarium services",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Select the ",(0,r.kt)("strong",{parentName:"li"},"Bot key")," secret you want to use"),(0,r.kt)("li",{parentName:"ul"},"Select the ",(0,r.kt)("strong",{parentName:"li"},"Bot secret")," you want to use"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Sync settings")," is all the settings for synching data",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Default sync info")," regroup all default data transformation. It's used to transform Aquarium data to Ayon. Those settings are optional, if they are not provided, the addon will try to translate it for you.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Tasks")," is for translating Aquarium's tasks to Ayon's tasks names"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Statuses")," is for transforming Aquarium's tasks statuses to Ayon's statuses")))))),(0,r.kt)("h2",{id:"starting-ayon-aquarium-addon-service"},"Starting Ayon Aquarium addon service"),(0,r.kt)("p",null,"Aquarium addon rely on two services to synchronize your projects:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Leecher, responsible to listening Aquarium events, and store them into Ayon's database for later process"),(0,r.kt)("li",{parentName:"ul"},'Processor, responsible to processing specific Aquarium events, stored in Ayon\'s database. The processor "only" transform the data and then pass it to the Addon API.')),(0,r.kt)("p",null,"This requires to ASH to be working so the service can be attached to it. In main menu select Services."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Ayon services menu",src:a(59716).Z,width:"303",height:"536"})),(0,r.kt)("p",null,"Use ",(0,r.kt)("strong",{parentName:"p"},"New service")," button."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Spawn new service",src:a(95971).Z,width:"566",height:"537"})),(0,r.kt)("p",null,"Once ASH is working then worker options should be offering any available workers. Find ",(0,r.kt)("inlineCode",{parentName:"p"},"Aquarium")," addon name and the same version which is used in your bundle. For easier late recognition, make sure to prefix your service with ",(0,r.kt)("inlineCode",{parentName:"p"},"aquarium_")," or just ",(0,r.kt)("inlineCode",{parentName:"p"},"aq_"),". Hit ",(0,r.kt)("strong",{parentName:"p"},"Spawn")," and wait for status of service to be set to green ",(0,r.kt)("em",{parentName:"p"},"Running"),"."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Don't forget to repeat the same action for the processor")))}f.isMDXComponent=!0},33554:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/aquarium-addon-settings-9c4d8a6281b3a5bc5988f0dd6284d0d2.png"},45498:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/aquarium-ayon-logo-7705a9e9e02556045179f647f0112b7b.png"},69794:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ayon-connector-bot-99efd87ac21476538abb0241ac45d896.png"},77708:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ayon-connector-enable-4d796c69c36d70a57367a0f2e462eefe.png"},4501:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ayon-secrets-7a42632fdb9ab264b8b946333e1ecdd2.png"},59716:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ayon-services-7322ab0901c192cd1897fd822455b75c.png"},95971:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/ayon-spawn-service-136f339f9e8b118acd8e1c5120b35a4e.png"}}]);