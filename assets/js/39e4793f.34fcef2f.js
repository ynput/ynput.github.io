"use strict";(self.webpackChunkayon_docs=self.webpackChunkayon_docs||[]).push([[6781],{27622:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var n=a(87462),o=(a(67294),a(3905));const i={id:"addon_usd_artist_get_started",title:"Getting Started with USD in AYON",sidebar_label:"Getting Started"},r=void 0,s={unversionedId:"addon_usd_artist_get_started",id:"addon_usd_artist_get_started",title:"Getting Started with USD in AYON",description:"A quick start into AYON x USD",source:"@site/docs/addon_usd_artist_get_started.md",sourceDirName:".",slug:"/addon_usd_artist_get_started",permalink:"/docs/addon_usd_artist_get_started",draft:!1,editUrl:"https://github.com/ynput/ayon-documentation/tree/main/website/docs/addon_usd_artist_get_started.md",tags:[],version:"current",frontMatter:{id:"addon_usd_artist_get_started",title:"Getting Started with USD in AYON",sidebar_label:"Getting Started"},sidebar:"artist",previous:{title:"USD Intro",permalink:"/docs/addon_usd_artist_usd_intro"},next:{title:"Contribution Workflow",permalink:"/docs/addon_usd_artist_contribution_workflow"}},l={},d=[{value:"Assets and Shots",id:"assets-and-shots",level:2},{value:"Creating an asset",id:"creating-an-asset",level:2},{value:"Creating the model",id:"creating-the-model",level:3},{value:"Creating the look",id:"creating-the-look",level:3},{value:"Creating a shot",id:"creating-a-shot",level:2},{value:"Additional context",id:"additional-context",level:2}],u={toc:d},p="wrapper";function h(e){let{components:t,...a}=e;return(0,o.kt)(p,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"A quick start into AYON x USD"),(0,o.kt)("h2",{id:"assets-and-shots"},"Assets and Shots"),(0,o.kt)("p",null,"Within the USD workflow we usually make a big distinction between ",(0,o.kt)("strong",{parentName:"p"},"Assets")," and ",(0,o.kt)("strong",{parentName:"p"},"Shots"),"."),(0,o.kt)("p",null,"Assets usually follow ",(0,o.kt)("a",{parentName:"p",href:"/docs/addon_usd_artist_usd_intro#usd-asset-structure-guidelines"},"strict asset guidelines")," and fall under a ",(0,o.kt)("strong",{parentName:"p"},"single root primitive")," also referred to as its default primitive.\nThis is because Assets are usually ",(0,o.kt)("em",{parentName:"p"},"referenced")," into a USD stage which means they overlay a single primitive (the root) into the scene you're referencing into."),(0,o.kt)("p",null,"Shots usually contain multiple root prims, from referenced assets, to lights, to render settings and more."),(0,o.kt)("p",null,"Regarding loading the assets, in almost all cases:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Assets are ",(0,o.kt)("strong",{parentName:"li"},"referenced")," into your scene (or payloaded in)"),(0,o.kt)("li",{parentName:"ul"},"Shots are ",(0,o.kt)("strong",{parentName:"li"},"sublayered")," into your current scene (or opened as root layer)")),(0,o.kt)("p",null,"Which means that for assets you can position the single root on top of any prim path in your scene (USD referencing) and with shots you load in the full stage hierarchy without moving things around (USD sublayers)."),(0,o.kt)("p",null,"For more details on referencing versus sublayering:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.sidefx.com/docs/houdini/solaris/usd.html#referencing"},"SideFX: USD Referencing explained")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.sidefx.com/docs/houdini/nodes/lop/sublayer.html#sublyrdetails"},"SideFX: USD Sublayering explained"))),(0,o.kt)("h2",{id:"creating-an-asset"},"Creating an asset"),(0,o.kt)("p",null,"When we are referring to the USD asset, we mean the full asset with the model's geometry, the look's materials and textures, potentially a groom and may even embed a rig (although USD is not a rig format, but it may encapsulate e.g. Maya Scene references) "),(0,o.kt)("p",null,"The USD structure (simplified) then becomes:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"asset.usd\n  - look.usd\n  - groom.usd\n  - model.usd\n")),(0,o.kt)("p",null,"Where the groom is applied over the model, and the look is applied over those.\nThis means that the look's ",(0,o.kt)("em",{parentName:"p"},"opinions")," are stronger than the layers below it."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"A layer being stronger than another means it can override in essence all of its opinions depending on USD strength ordering (",(0,o.kt)("a",{parentName:"p",href:"https://remedy-entertainment.github.io/USDBook/terminology/LIVRPS.html"},"LIVRPS"),"). In simple words, a look can potentially override UVs, point positions and so forth. But usually only adds materials, render geometry settings and material bindings.")),(0,o.kt)("h3",{id:"creating-the-model"},"Creating the model"),(0,o.kt)("p",null,"We will want to create our geometry's contribution to the asset."),(0,o.kt)("p",null,"For the asset structure it's critical we work within the asset's hierarchy so that the asset referencing (explained above) works."),(0,o.kt)("p",null,"As such, we'll always work within a root group with the current folder's name.",(0,o.kt)("br",{parentName:"p"}),"\n","Say our character's folder path is ",(0,o.kt)("inlineCode",{parentName:"p"},"assets/hero")," then the root group is ",(0,o.kt)("inlineCode",{parentName:"p"},"hero")),(0,o.kt)("p",null,"We can make a hierarchy like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"hero/\n    geo/\n        body\n        pants\n")),(0,o.kt)("p",null,"When done. We publish that ",(0,o.kt)("inlineCode",{parentName:"p"},"hero")," as USD contribution to the ",(0,o.kt)("inlineCode",{parentName:"p"},"model")," layer.\nThe publishing logic will make the layering of the ",(0,o.kt)("inlineCode",{parentName:"p"},"model.usd")," into the ",(0,o.kt)("inlineCode",{parentName:"p"},"asset.usd")," for you automatically."),(0,o.kt)("p",null,"So now we have:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"asset.usd\n    model.usd\n")),(0,o.kt)("p",null,"When loading that in, we'll have our hero wearing pants. But it needs some \ud83d\udd8c\ufe0f\ud83c\udfa8 paint."),(0,o.kt)("h3",{id:"creating-the-look"},"Creating the look"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"From a Houdini perspective")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Reference the asset so we have the model.")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The ",(0,o.kt)("strong",{parentName:"p"},"Asset USD file")," is usually ",(0,o.kt)("em",{parentName:"p"},"referenced")," and not ",(0,o.kt)("em",{parentName:"p"},"sublayered")," into your scene.",(0,o.kt)("br",{parentName:"p"}),"\n","Nor do you load the individual department or contribution layers.")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Make sure to add a ",(0,o.kt)("em",{parentName:"p"},(0,o.kt)("a",{parentName:"em",href:"/docs/addon_usd_artist_houdini_workflow#layer-break"},"Layer Break LOP")),". This special Houdini node breaks off the USD scene above it and from that moment on any changes on the existing hierarchy are just opinions that are overlaid on top of it. This means that when writing out a USD file now we're not re-exporting the geometry itself, but only any changes we make after the layer break.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Apply your materials to the ",(0,o.kt)("inlineCode",{parentName:"p"},"hero/geo")," meshes and make sure your materials are within ",(0,o.kt)("inlineCode",{parentName:"p"},"hero")," group as well. So usually you end up with:"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"hero/\n    geo/\n       body   <- material 'hero/mtl/body_shader' applied\n       pants  <- material 'hero/mtl/pants_shader' applied\n    mtl/\n        body_shader\n        pants_shader\n")),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Publish as the look product type (which is a USD look in Houdini).")),(0,o.kt)("h2",{id:"creating-a-shot"},"Creating a shot"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Using AYON's contribution workflow targeting shots currently ",(0,o.kt)("strong",{parentName:"p"},"requires extra\nattention")," on the publish attributes for the instance to correctly target the\n",(0,o.kt)("inlineCode",{parentName:"p"},"usdShot")," and ",(0,o.kt)("strong",{parentName:"p"},"disable variants")," (",(0,o.kt)("em",{parentName:"p"},"usually your shot contribution is not a variant"),")."),(0,o.kt)("p",{parentName:"admonition"},"For more information see the ",(0,o.kt)("a",{parentName:"p",href:"/docs/addon_usd_artist_contribution_workflow#shot-contribution-to-usdshot"},"AYON Contribution Workflow"),".")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Houdini perspective")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Reference")," the assets and perform you scene assembly or layout. This is usually a contribution to the Assembly or Layout department layer."),(0,o.kt)("li",{parentName:"ul"},"Throw some lights into the scene."),(0,o.kt)("li",{parentName:"ul"},"Set up the USD Render Settings."),(0,o.kt)("li",{parentName:"ul"},"Publish your USD render submission to Husk Standalone")),(0,o.kt)("h2",{id:"additional-context"},"Additional context"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/ynput/ayon-core/pull/295"},"Ayon Core USD workflow PR contains some comments and explanations")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/ynput/OpenPype/pull/5925#issue-1995346181"},"In the original OpenPype PR description it contained quite some 'test' videos")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=1KqrIRCi_EQ"},"At FMX 2024 an OpenUSD presentation was given that showed usage of what is basically the functionality of this PR"),".")),(0,o.kt)("hr",null),(0,o.kt)("admonition",{title:"TODO",type:"info"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"General improvements; with this guide it's still hard to get started"),(0,o.kt)("li",{parentName:"ul"},"Add video recordings for the quick asset and shot workflow"),(0,o.kt)("li",{parentName:"ul"},"Move software-specifics to their individual workflows (Houdini, Maya, Blender)"),(0,o.kt)("li",{parentName:"ul"},"Explain more about variants versus non-variants in asset contributions"))))}h.isMDXComponent=!0}}]);