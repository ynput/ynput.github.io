"use strict";(self.webpackChunkayon_docs=self.webpackChunkayon_docs||[]).push([[7343],{99354:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var o=n(87462),i=(n(67294),n(3905));const a={id:"addon_sso_admin",title:"Single Sign-On addon",sidebar_label:"Single Sign-On"},s=void 0,r={unversionedId:"addon_sso_admin",id:"addon_sso_admin",title:"Single Sign-On addon",description:"The SSO Addon offers seamless single sign-on capabilities,",source:"@site/docs/addon_sso_admin.md",sourceDirName:".",slug:"/addon_sso_admin",permalink:"/docs/addon_sso_admin",draft:!1,editUrl:"https://github.com/ynput/ayon-documentation/tree/main/website/docs/addon_sso_admin.md",tags:[],version:"current",frontMatter:{id:"addon_sso_admin",title:"Single Sign-On addon",sidebar_label:"Single Sign-On"},sidebar:"Admin",previous:{title:"SpeedTree",permalink:"/docs/addon_speedtree_admin"},next:{title:"Substance Designer",permalink:"/docs/addon_substancedesigner_admin"}},l={},d=[{value:"Google",id:"google",level:2},{value:"Discord",id:"discord",level:2}],u={toc:d},p="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(p,(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The SSO Addon offers seamless single sign-on capabilities,\nallowing users to access the system with their existing accounts\nfrom various service providers. "),(0,i.kt)("p",null,"Currently, we support Google and Discord, but thanks to the addon's modular design,\nintegrating additional providers is straightforward,\npromising easy scalability to meet evolving user needs."),(0,i.kt)("p",null,"This addon requires a valid AYON SSO license. See ",(0,i.kt)("a",{parentName:"p",href:"https://ynput.io/ayon/pricing/"},"https://ynput.io/ayon/pricing/"),"\nfor more information."),(0,i.kt)("h2",{id:"google"},"Google"),(0,i.kt)("p",null,"For authentication using google, you need to create OAuth2 credentials in\n",(0,i.kt)("a",{parentName:"p",href:"https://console.cloud.google.com/"},"Google cloud console")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'In the APIs & Services page of your project, select "Credentials" from the sidebar'),(0,i.kt)("li",{parentName:"ul"},"Create credentials with OAuth Client ID"),(0,i.kt)("li",{parentName:"ul"},'Set Application type to "Web application"'),(0,i.kt)("li",{parentName:"ul"},"Set a name and add ",(0,i.kt)("inlineCode",{parentName:"li"},"https://yourserver")," to ",(0,i.kt)("strong",{parentName:"li"},"Authorized JavaScript origins")," list"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"https://yourserver/login/google")," to ",(0,i.kt)("strong",{parentName:"li"},"Authorized redirect URIs")," list"),(0,i.kt)("li",{parentName:"ul"},'If needed, configure OAuth consent screen. In most cases, you could use "Internal" mode')),(0,i.kt)("p",null,"Please follow ",(0,i.kt)("a",{parentName:"p",href:"https://support.google.com/cloud/answer/6158849?hl=en"},"this tutorial")," for more details."),(0,i.kt)("p",null,"Copy ",(0,i.kt)("strong",{parentName:"p"},"client id")," and ",(0,i.kt)("strong",{parentName:"p"},"client secret")," and store them to Ayon secrets as ",(0,i.kt)("inlineCode",{parentName:"p"},"google_sso_client_id")," and\n",(0,i.kt)("inlineCode",{parentName:"p"},"google_sso_client_secret"),"."),(0,i.kt)("p",null,'In the SSO Addon settings, enable "Google" and add your domain to the ',(0,i.kt)("strong",{parentName:"p"},"Allowed domains")," list."),(0,i.kt)("p",null,'By default, only users with existing Ayon accounts can log in.\nHowever, you have the option to activate the "New Users" functionality,\nenabling automatic creation of user accounts. '),(0,i.kt)("p",null,"This feature permits entry for new users from authorized domains and automatically assigns them the role\noutlined in the \"New Users\" section. It's important to note that user levels and default access groups\nare assigned just once to new users. Therefore, an administrator has the flexibility\nto modify a user's role within Ayon's user management system.\nSubsequent logins by the user will reflect their updated role."),(0,i.kt)("p",null,'After restarting the server and logging out, you will see a new "Log in using Google" button on the login page.'),(0,i.kt)("h2",{id:"discord"},"Discord"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Start a new ",(0,i.kt)("a",{parentName:"li",href:"https://discord.com/developers/applications"},"Discord application"),"\nand create OAuth2 client and secrets"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"https://yourserver/login/discord")," to a valid redirect url list"),(0,i.kt)("li",{parentName:"ul"},"In Ayon secrets, create ",(0,i.kt)("inlineCode",{parentName:"li"},"discord_sso_client_id")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"discord_sso_client_secret")," records with values you got during app creation"),(0,i.kt)("li",{parentName:"ul"},'In SSO Addon settings, turn on "Discord"')),(0,i.kt)("p",null,'After restarting the server and logging out, you will see a new "Log in using Discord" button on the login page.'),(0,i.kt)("p",null,"Due to privacy concerns, Discord only support sign-in for users that already exist in Ayon.\nUsers are matched by their email address and their profiles are not updated in any way."))}c.isMDXComponent=!0}}]);