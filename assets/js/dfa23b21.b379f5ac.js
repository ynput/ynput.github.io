"use strict";(self.webpackChunkayon_docs=self.webpackChunkayon_docs||[]).push([[1870],{24329:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var a=i(87462),n=(i(67294),i(3905)),o=i(20398),s=i(87006);const r={id:"addon_maya_yeti_artist",title:"Yeti for Maya",sidebar_label:"Yeti"},l=void 0,d={unversionedId:"addon_maya_yeti_artist",id:"addon_maya_yeti_artist",title:"Yeti for Maya",description:"{versions.Maya_Badge}",source:"@site/docs/addon_maya_yeti_artist.md",sourceDirName:".",slug:"/addon_maya_yeti_artist",permalink:"/docs/addon_maya_yeti_artist",draft:!1,editUrl:"https://github.com/ynput/ayon-documentation/tree/main/website/docs/addon_maya_yeti_artist.md",tags:[],version:"current",frontMatter:{id:"addon_maya_yeti_artist",title:"Yeti for Maya",sidebar_label:"Yeti"},sidebar:"artist",previous:{title:"Multiverse USD",permalink:"/docs/addon_maya_multiverse_artist"},next:{title:"Xgen",permalink:"/docs/addon_maya_xgen_artist"}},p={},c=[{value:"Working with Yeti in AYON",id:"working-with-yeti-in-ayon",level:2},{value:"Yeti Caches",id:"yeti-caches",level:2},{value:"Creating and publishing",id:"creating-and-publishing",level:3},{value:"Loading",id:"loading",level:3},{value:"Yeti Rigs",id:"yeti-rigs",level:2},{value:"Creating and publishing",id:"creating-and-publishing-1",level:3},{value:"Loading",id:"loading-1",level:3}],h={toc:c},u="wrapper";function m(e){let{components:t,...r}=e;return(0,n.kt)(u,(0,a.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)(o.D,{mdxType:"ReactMarkdown"},s.Y0),(0,n.kt)("h2",{id:"working-with-yeti-in-ayon"},"Working with Yeti in AYON"),(0,n.kt)("p",null,"AYON can work with ",(0,n.kt)("a",{parentName:"p",href:"https://peregrinelabs.com/yeti/"},"Yeti")," in two data modes.\nIt can handle Yeti caches and Yeti rigs."),(0,n.kt)("h2",{id:"yeti-caches"},"Yeti Caches"),(0,n.kt)("h3",{id:"creating-and-publishing"},"Creating and publishing"),(0,n.kt)("p",null,"Let start by creating simple Yeti setup, just one object and Yeti node. Open new\nempty scene in Maya and create sphere. Then select sphere and go ",(0,n.kt)("strong",{parentName:"p"},"Yeti \u2192 Create Yeti Node on Mesh"),"\nOpen Yeti node graph ",(0,n.kt)("strong",{parentName:"p"},"Yeti \u2192 Open Graph Editor")," and create setup like this:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Basic Graph",src:i(50803).Z,width:"750",height:"339"})),(0,n.kt)("p",null,"It doesn't matter what setting you use now, just select proper shape in first\n",(0,n.kt)("em",{parentName:"p"},"Import")," node. Select your Yeti node and create ",(0,n.kt)("em",{parentName:"p"},"Yeti Cache instance")," - ",(0,n.kt)("strong",{parentName:"p"},"AYON \u2192 Create..."),"\nand select ",(0,n.kt)("strong",{parentName:"p"},"Yeti Cache"),". Leave ",(0,n.kt)("inlineCode",{parentName:"p"},"Use selection")," checked. You should end up with this setup:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Basic Setup",src:i(83327).Z,width:"627",height:"315"})),(0,n.kt)("p",null,"You can see there is ",(0,n.kt)("inlineCode",{parentName:"p"},"yeticacheDefault")," set. Instead of ",(0,n.kt)("em",{parentName:"p"},"Default")," it could be named with\nwhatever name you've entered in ",(0,n.kt)("inlineCode",{parentName:"p"},"product")," field during instance creation."),(0,n.kt)("p",null,"We are almost ready for publishing cache. You can check basic settings by selecting\nYeti cache set and opening ",(0,n.kt)("em",{parentName:"p"},"Extra attributes")," in Maya ",(0,n.kt)("strong",{parentName:"p"},"Attribute Editor"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Basic Setup",src:i(82929).Z,width:"430",height:"243"})),(0,n.kt)("p",null,"Those attributes there are self-explanatory, but:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Preroll"),' is number of frames simulation will run before cache frames are stored.\nThis is useful to "steady" simulation for example.'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Frame Start")," from what frame we start to store cache files"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Frame End")," to what frame we are storing cache files"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Fps")," of cache"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"Samples")," how many time samples we take during caching")),(0,n.kt)("p",null,"You can now publish Yeti cache as any other types. ",(0,n.kt)("strong",{parentName:"p"},"AYON \u2192 Publish"),". It will\ncreate sequence of ",(0,n.kt)("inlineCode",{parentName:"p"},".fur")," files and ",(0,n.kt)("inlineCode",{parentName:"p"},".fursettings")," metadata file with Yeti node\nsetting."),(0,n.kt)("admonition",{title:"Collect Yeti Cache failure",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"If you encounter ",(0,n.kt)("strong",{parentName:"p"},"Collect Yeti Cache")," failure during collecting phase, and the error is like"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-fix"},"No object matches name: pgYetiMaya1Shape.cbId\n")),(0,n.kt)("p",{parentName:"admonition"},"then it is probably caused by scene not being saved before publishing.")),(0,n.kt)("h3",{id:"loading"},"Loading"),(0,n.kt)("p",null,"You can load Yeti cache by ",(0,n.kt)("strong",{parentName:"p"},"AYON \u2192 Load ..."),". Select your cache, right+click on\nit and select ",(0,n.kt)("strong",{parentName:"p"},"Load Yeti cache"),". This will create Yeti node in scene and set its\ncache path to point to your published cache files. Note that this Yeti node will\nbe named with same name as the one you've used to publish cache. Also notice that\nwhen you open graph on this Yeti node, all nodes are as they were in publishing node."),(0,n.kt)("h2",{id:"yeti-rigs"},"Yeti Rigs"),(0,n.kt)("h3",{id:"creating-and-publishing-1"},"Creating and publishing"),(0,n.kt)("p",null,"Yeti Rigs are designed to connect to published models or animation rig. The workflow gives the Yeti Rig full control on that geometry to do additional things on top of whatever input comes in, e.g. deleting faces, pushing faces in/out, subdividing, etc."),(0,n.kt)("p",null,"Let's start with a ",(0,n.kt)("a",{parentName:"p",href:"/docs/addon_maya_artist#loading-model"},"model")," or ",(0,n.kt)("a",{parentName:"p",href:"/docs/addon_maya_artist#loading-rigs"},"rig")," loaded into the scene. Here we are using a simple rig."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Simple Rig",src:i(52801).Z,width:"1589",height:"768"})),(0,n.kt)("p",null,"We'll need to prepare the scene a bit. We want some Yeti hair on the ball geometry, so duplicating the geometry, adding the Yeti hair and grouping it together."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Hair Setup",src:i(47070).Z,width:"1592",height:"761"})),(0,n.kt)("admonition",{title:"yeti nodes and types",type:"note"},(0,n.kt)("p",{parentName:"admonition"},"You can use any number of Yeti nodes and types, but they have to have unique names.")),(0,n.kt)("p",null,"Now we need to connect the Yeti Rig with the animation rig. Yeti Rigs work by publishing the attribute connections from its input nodes and reconnect them later in the pipeline. This means we can only use attribute connections to from outside of the Yeti Rig hierarchy. Internal to the Yeti Rig hierarchy, we can use any complexity of node connections. We'll connnect the Yeti Rig geometry to the animation rig, with the transform and mesh attributes."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Rig Setup",src:i(68422).Z,width:"1590",height:"765"})),(0,n.kt)("p",null,"Now we are ready for publishing. Select the Yeti Rig group (",(0,n.kt)("inlineCode",{parentName:"p"},"rig_GRP"),") and\ncreate ",(0,n.kt)("em",{parentName:"p"},"Yeti Rig instance")," - ",(0,n.kt)("strong",{parentName:"p"},"AYON \u2192 Create...")," and select ",(0,n.kt)("strong",{parentName:"p"},"Yeti Rig"),".\nLeave ",(0,n.kt)("inlineCode",{parentName:"p"},"Use selection")," checked."),(0,n.kt)("p",null,"Last step is to add our geometry to the rig instance, so middle+drag its\ngeometry to ",(0,n.kt)("inlineCode",{parentName:"p"},"input_SET")," under the ",(0,n.kt)("inlineCode",{parentName:"p"},"yetiRigMain")," set representing rig instance.\nNote that its name can differ and is based on your product name."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Publish Setup",src:i(9230).Z,width:"1583",height:"756"})),(0,n.kt)("p",null,"You can have any number of nodes in the Yeti Rig, but only nodes with incoming attribute connections from outside of the Yeti Rig hierarchy is needed in the ",(0,n.kt)("inlineCode",{parentName:"p"},"input_SET"),"."),(0,n.kt)("p",null,"Save your scene and ready for publishing our new simple Yeti Rig!"),(0,n.kt)("p",null,"Go to publish ",(0,n.kt)("strong",{parentName:"p"},"AYON \u2192 Publish")," and run. This will publish rig with its geometry\nas ",(0,n.kt)("inlineCode",{parentName:"p"},".ma")," scene, save Yeti node settings and export one frame of Yeti cache from\nthe beginning of your timeline. It will also collect all textures used in Yeti\nnode, copy them to publish folder ",(0,n.kt)("inlineCode",{parentName:"p"},"resource")," directory and set ",(0,n.kt)("em",{parentName:"p"},"Image search path"),"\nof published node to this location."),(0,n.kt)("h3",{id:"loading-1"},"Loading"),(0,n.kt)("p",null,"You can load published Yeti Rigs in AYON with ",(0,n.kt)("strong",{parentName:"p"},"AYON \u2192 Load ..."),",\nselect you Yeti rig and right+click on it. In context menu you should see\n",(0,n.kt)("strong",{parentName:"p"},"Load Yeti Rig")," item (among others)."),(0,n.kt)("p",null,"To connect the Yeti Rig with published animation, we'll load in the animation and use the Inventory to establish the connections."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Maya - Yeti Publish Setup",src:i(38439).Z,width:"1870",height:"765"})),(0,n.kt)("p",null,"The Yeti Rig should now be following the animation. \ud83c\udf89"))}m.isMDXComponent=!0},50803:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_basic_setup-706c11d4feb5fa738c83ddd1e186ea90.jpg"},83327:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_basic_setup_outline-77c843bbdb756edbd269b4fc683ea01d.jpg"},82929:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_cache_attributes-910b71b258bab732a58475fbf41820a1.jpg"},47070:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_hair_setup-d0dc1fbfdd8e5a1dd47253b1ceeae232.png"},38439:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_load_connections-bf5b47e4097333ca983bf2952411ed53.png"},9230:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_publish_setup-169ad593d4e800e49345cf1dfc41ad98.png"},68422:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_rig_setup-344825ce679055bb741aafa46c53d6b7.png"},52801:(e,t,i)=>{i.d(t,{Z:()=>a});const a=i.p+"assets/images/yeti_simple_rig-b26b295b2457b1c62db8491248ee9e78.png"}}]);