"use strict";(self.webpackChunkayon_docs=self.webpackChunkayon_docs||[]).push([[4311],{18679:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(67294),i=n(86010);const l={tabItem:"tabItem_Ymn6"};function r(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(l.tabItem,r),hidden:n},t)}},73992:(e,t,n)=>{n.d(t,{Z:()=>N});var a=n(87462),i=n(67294),l=n(86010),r=n(72957),o=n(16550),s=n(75238),u=n(33609),p=n(92560);function d(e){return function(e){return i.Children.map(e,(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}function c(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.k6)(),l=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(l),(0,i.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(a.location.search);t.set(l,e),a.replace({...a.location,search:t.toString()})}),[l,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,l=c(e),[r,o]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:l}))),[s,u]=h({queryString:n,groupId:a}),[d,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,l]=(0,p.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&l.set(e)}),[n,l])]}({groupId:a}),g=(()=>{const e=s??d;return m({value:e,tabValues:l})?e:null})();(0,i.useLayoutEffect)((()=>{g&&o(g)}),[g]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),f(e)}),[u,f,l]),tabValues:l}}var g=n(51048);const k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function b(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:u}=e;const p=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.o5)(),c=e=>{const t=e.currentTarget,n=p.indexOf(t),a=u[n].value;a!==o&&(d(t),s(a))},m=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=p.indexOf(e.currentTarget)+1;t=p[n]??p[0];break}case"ArrowLeft":{const n=p.indexOf(e.currentTarget)-1;t=p[n]??p[p.length-1];break}}t?.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:r}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>p.push(e),onKeyDown:m,onClick:c},r,{className:(0,l.Z)("tabs__item",k.tabItem,r?.className,{"tabs__item--active":o===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function v(e){const t=f(e);return i.createElement("div",{className:(0,l.Z)("tabs-container",k.tabList)},i.createElement(b,(0,a.Z)({},e,t)),i.createElement(y,(0,a.Z)({},e,t)))}function N(e){const t=(0,g.Z)();return i.createElement(v,(0,a.Z)({key:String(t)},e))}},48736:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>u,toc:()=>d});var a=n(87462),i=(n(67294),n(3905)),l=n(20398),r=n(87006);n(73992),n(18679);const o={id:"addon_unreal_admin",title:"Unreal Admin Docs",sidebar_label:"Unreal"},s=void 0,u={unversionedId:"addon_unreal_admin",id:"addon_unreal_admin",title:"Unreal Admin Docs",description:"{versions.Unreal_Badge}",source:"@site/docs/addon_unreal_admin.md",sourceDirName:".",slug:"/addon_unreal_admin",permalink:"/docs/addon_unreal_admin",draft:!1,editUrl:"https://github.com/ynput/ayon-documentation/tree/main/website/docs/addon_unreal_admin.md",tags:[],version:"current",frontMatter:{id:"addon_unreal_admin",title:"Unreal Admin Docs",sidebar_label:"Unreal"},sidebar:"Admin",previous:{title:"TVPaint",permalink:"/docs/addon_tvpaint_admin"},next:{title:"USD",permalink:"/docs/addon_usd_admin"}},p={},d=[{value:"Custom location of the Ayon plugin for Unreal Engine",id:"custom-location-of-the-ayon-plugin-for-unreal-engine",level:2},{value:"Setting custom paths for the UE project of the plugin",id:"setting-custom-paths-for-the-ue-project-of-the-plugin",level:3},{value:"Setting custom paths for the compiled plugin",id:"setting-custom-paths-for-the-compiled-plugin",level:3},{value:"Farm rendering via Deadline",id:"farm-rendering-via-deadline",level:3},{value:"AYON Perforce Support",id:"ayon-perforce-support",level:2},{value:"Manually installing Qt bindings",id:"manually-installing-qt-bindings",level:2},{value:"Option A (preferred)",id:"option-a-preferred",level:3},{value:"Option B (unsupported)",id:"option-b-unsupported",level:3},{value:"Setup Publish template for UAsset Product",id:"setup-publish-template-for-uasset-product",level:2},{value:"UAsset publish template in project anatomy",id:"uasset-publish-template-in-project-anatomy",level:3},{value:"Add template name profile in core settings",id:"add-template-name-profile-in-core-settings",level:3}],c={toc:d},m="wrapper";function h(e){let{components:t,...o}=e;return(0,i.kt)(m,(0,a.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)(l.D,{mdxType:"ReactMarkdown"},r.XK),(0,i.kt)("h2",{id:"custom-location-of-the-ayon-plugin-for-unreal-engine"},"Custom location of the Ayon plugin for Unreal Engine"),(0,i.kt)("p",null,"Sometimes you might want to use custom paths for the location of plugin for Ayon, instead of using the Marketplace one. This can be useful if you want to make changes to the plugin or want to distribuite the compiled plugin. In this section, we will explain how to set these custom paths."),(0,i.kt)("h3",{id:"setting-custom-paths-for-the-ue-project-of-the-plugin"},"Setting custom paths for the UE project of the plugin"),(0,i.kt)("p",null,"This is the source code of the plugin that you can use to make changes to the plugin. By setting this path, when first launching Unreal, the plugin will be compiled and added to the engine as a plugin, and available for any project you create in the future."),(0,i.kt)("p",null,"To use a custom path for the UE project of the plugin, you need to set an environment variable called ",(0,i.kt)("inlineCode",{parentName:"p"},"AYON_UNREAL_PLUGIN"),". This variable should point to the directory where the source plugin is located. For example, if you have the source plugin in ",(0,i.kt)("inlineCode",{parentName:"p"},"C:/Ayon/Source"),", you should set the following environment variable:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"AYON_UNREAL_PLUGIN=C:/Ayon/Source")),(0,i.kt)("p",null,"You can set this variable either in Ayon Studio Setting in ",(0,i.kt)("inlineCode",{parentName:"p"},"applications/unreal/environment"),", or, from there, to a specific version of Unreal."),(0,i.kt)("h3",{id:"setting-custom-paths-for-the-compiled-plugin"},"Setting custom paths for the compiled plugin"),(0,i.kt)("p",null,"If you already have compiled the plugin and want to distribute it, you can set a custom path for the compiled plugin. By setting this path, when first launching Unreal, the plugin will be added to the engine as a plugin, and available for any project you create in the future."),(0,i.kt)("p",null,"To use a custom path for the compiled plugin, you need to set an environment variable called ",(0,i.kt)("inlineCode",{parentName:"p"},"AYON_BUILT_UNREAL_PLUGIN"),". This variable should point to the directory where the plugin is located. For example, if you have the plugin in ",(0,i.kt)("inlineCode",{parentName:"p"},"C:/Ayon/CompiledPlugin"),", you should set the following environment variable:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"AYON_BUILT_UNREAL_PLUGIN=C:/Ayon/CompiledPlugin")),(0,i.kt)("p",null,"You can set this variable either in Ayon Studio Setting in ",(0,i.kt)("inlineCode",{parentName:"p"},"applications/unreal/environment"),", or, from there, to a specific version of Unreal."),(0,i.kt)("h3",{id:"farm-rendering-via-deadline"},"Farm rendering via Deadline"),(0,i.kt)("p",null,"AYON Unreal integration supports rendering on Deadline, please take a look how to setup Deadline ",(0,i.kt)("a",{parentName:"p",href:"/docs/addon_deadline_admin"},"here"),"."),(0,i.kt)("p",null,"Deadline requires Render Queue and Render Settings uassets to be physically present in unreal project at expected locations."),(0,i.kt)("p",null,"By default they are expected at these paths:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/Game/Ayon/renderQueue")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"/Game/Ayon/DefaultMovieRenderQueueConfig.DefaultMovieRenderQueueConfig"))),(0,i.kt)("p",null,"These could be modified by AYON admin in ",(0,i.kt)("inlineCode",{parentName:"p"},"ayon+settings://unreal/render_queue_path"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Unreal AYON Render Queue and Settings",src:n(8021).Z,width:"1736",height:"514"})),(0,i.kt)("p",null,"Deadline workers need to expose location of Unreal editor for rendering via ",(0,i.kt)("inlineCode",{parentName:"p"},"UnrealExecutable")," (or ",(0,i.kt)("inlineCode",{parentName:"p"},"UnrealEditorExecutable_5_4")," for specific version) environment variable.\nThis variable could be set locally on the workers as needed or could be set and controlled by AYON by setting it in\n",(0,i.kt)("inlineCode",{parentName:"p"},"ayon+settings://applications/applications/unreal/variants/3/environment")),(0,i.kt)("p",null,"Default value could be there as:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n    "UnrealExecutable": {"windows": "C:/Program Files/Epic Games/UE_5.4/Engine/Binaries/Win64/UnrealEditor-Cmd.exe"},\n}\n')),(0,i.kt)("p",null,"Please notice platform suport with ",(0,i.kt)("inlineCode",{parentName:"p"},"windows")," key (could be also ",(0,i.kt)("inlineCode",{parentName:"p"},"linux")," value)."),(0,i.kt)("h2",{id:"ayon-perforce-support"},"AYON Perforce Support"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"AYON has a dedicated addon for Perforce support.\nPlease refer to ",(0,i.kt)("a",{parentName:"p",href:"category/version-control"},"Version Control Admin Docs")," to learn more.")),(0,i.kt)("h2",{id:"manually-installing-qt-bindings"},"Manually installing Qt bindings"),(0,i.kt)("p",null,"It might happen that automatic installation of th Qt bindings into Unreal fails. It that case here are manual steps that can be taken to amend it:"),(0,i.kt)("h3",{id:"option-a-preferred"},"Option A (preferred)"),(0,i.kt)("p",null,"Using Unreal's Python interpreter (located on a path like ",(0,i.kt)("inlineCode",{parentName:"p"},"Engine\\Binaries\\ThirdParty\\Python3\\Win64")," depending on the platform):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sh"},"python -m pip install pyside6\n")),(0,i.kt)("h3",{id:"option-b-unsupported"},"Option B (unsupported)"),(0,i.kt)("p",null,"You can run following python code either directly from Unreal or using Unreal's Python interpreter:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'import pip\npip.main(["install", "pyside6"])\n')),(0,i.kt)("p",null,"Be aware that calling ",(0,i.kt)("strong",{parentName:"p"},"pip")," like so is deprecated by pip itself and might not work in newer versions."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"For Unreal Engine versions ",(0,i.kt)("inlineCode",{parentName:"p"},">= 5.4"),", use ",(0,i.kt)("inlineCode",{parentName:"p"},"pyside6")," with version ",(0,i.kt)("em",{parentName:"p"},"6.7.x"),". For earlier versions, use ",(0,i.kt)("inlineCode",{parentName:"p"},"pyside2"),".")),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Early releases of PySide ",(0,i.kt)("inlineCode",{parentName:"p"},"6.8.x")," has shown issues/crashes. As such, we recommend using ",(0,i.kt)("inlineCode",{parentName:"p"},"6.7.x")," releases for the time being in the hope that future releases of ",(0,i.kt)("inlineCode",{parentName:"p"},"6.8")," become more stable.")),(0,i.kt)("h2",{id:"setup-publish-template-for-uasset-product"},"Setup Publish template for UAsset Product"),(0,i.kt)("p",null,"This requires two configurations:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Include the ",(0,i.kt)("inlineCode",{parentName:"li"},"unrealuasset")," publish template in the project anatomy."),(0,i.kt)("li",{parentName:"ul"},"Link ",(0,i.kt)("inlineCode",{parentName:"li"},"uasset")," product to its publish template, ",(0,i.kt)("inlineCode",{parentName:"li"},"unrealuasset"),".")),(0,i.kt)("h3",{id:"uasset-publish-template-in-project-anatomy"},"UAsset publish template in project anatomy"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Unreal AYON UAsset Template Project Setting",src:n(95706).Z,width:"2116",height:"993"})),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"unrealuasset")," publish template is added to the default templates in recent AYON server versions."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If you don't have it, you can always create it manually. Follow these steps to create it manually."),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Steps to create ",(0,i.kt)("code",null,"unrealuasset")," manually"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},"go to ",(0,i.kt)("strong",{parentName:"li"},"Project Settings")," shortcut ",(0,i.kt)("inlineCode",{parentName:"li"},"P+P")," and select ",(0,i.kt)("strong",{parentName:"li"},"Anatomy"),"."),(0,i.kt)("li",{parentName:"ul"},"Select your project."),(0,i.kt)("li",{parentName:"ul"},"Find publish template settings, setting location ",(0,i.kt)("inlineCode",{parentName:"li"},"ayon+anatomy://{project_name}/templates/publish"),"."),(0,i.kt)("li",{parentName:"ul"},"Add a publish template by clicking ",(0,i.kt)("strong",{parentName:"li"},"+")," icon. "),(0,i.kt)("li",{parentName:"ul"},"Fill in the publish template with ",(0,i.kt)("inlineCode",{parentName:"li"},"unrealuasset"),".",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="unrealuasset publish template"',title:'"unrealuasset',publish:!0,'template"':!0},'{\n    "name": "unrealuasset",\n    "directory": "{root[work]}/{project[name]}/{hierarchy}/{folder[name]}/publish/{product[type]}/{product[name]}/{@version}",\n    "file": "{originalBasename}.{ext}"\n}\n'))),(0,i.kt)("li",{parentName:"ul"},"Once you finished to add the template, Click ",(0,i.kt)("strong",{parentName:"li"},"Save Changes"),".")))),(0,i.kt)("h3",{id:"add-template-name-profile-in-core-settings"},"Add template name profile in core settings"),(0,i.kt)("p",null,"The next step is to link the ",(0,i.kt)("inlineCode",{parentName:"p"},"unrealuasset")," publish template to the ",(0,i.kt)("inlineCode",{parentName:"p"},"uasset")," product type.\nThis is done via template name profiles in core addon settings ",(0,i.kt)("inlineCode",{parentName:"p"},"ayon+settings://core/tools/publish/template_name_profiles"),"\n",(0,i.kt)("strong",{parentName:"p"},"Steps:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Locate the template name profiles settings, Setting location ",(0,i.kt)("inlineCode",{parentName:"li"},"ayon+settings://core/tools/publish/template_name_profiles"),"."),(0,i.kt)("li",{parentName:"ul"},"Add new template name profile using the ",(0,i.kt)("strong",{parentName:"li"},"+")," icon"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"uasset")," to ",(0,i.kt)("strong",{parentName:"li"},"Product types"),"."),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"unreal")," to the ",(0,i.kt)("strong",{parentName:"li"},"Hosts"),"."),(0,i.kt)("li",{parentName:"ul"},"Set ",(0,i.kt)("strong",{parentName:"li"},"Template name")," to ",(0,i.kt)("inlineCode",{parentName:"li"},"unrealuasset"))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Unreal AYON UAsset Template Profiles",src:n(53002).Z,width:"1917",height:"864"})))}h.isMDXComponent=!0},53002:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/uasset_template_profile_ayon_core-d3b1b75191c8aec169f211392e71ff3a.png"},95706:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/uasset_template_project_anatomy-c9d214176ea3e481e02b929de0527b23.png"},8021:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/unreal_render_queue_and_settings-403de617b7541f72a905631b59a6a9f5.png"}}]);